<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="p:domain_verify" content="609742ffe80460c6be1e7520cdc0c1f3"/>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cherrubi's Commissions!</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/kursor/dist/kursor.css" />
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/kursor"></script>
  <script>
    function applySeasonalTheme() {
      const now = new Date();
      const month = now.getMonth() + 1;
      const day = now.getDate();
      let themeName = '';

      if (month === 10) {
        document.documentElement.style.setProperty('--primary-color', '#ff6b35');
        document.documentElement.style.setProperty('--secondary-color', '#8A615F');
        document.documentElement.style.setProperty('--accent-color', '#9d4edd');
        document.documentElement.style.setProperty('--bg-gradient-start', '#2d1b2e');
        document.documentElement.style.setProperty('--bg-gradient-end', '#1a0f1c');
        document.documentElement.style.setProperty('--light-bg', '#3d2940');
        document.documentElement.style.setProperty('--border-color', '#ff6b35');
        document.documentElement.style.setProperty('--text-color', '#f0b8d4');
        themeName = '🎃 Halloween';
      }
      else if (month === 12 && day <= 25) {
        document.documentElement.style.setProperty('--primary-color', '#c41e3a');
        document.documentElement.style.setProperty('--secondary-color', '#165b33');
        document.documentElement.style.setProperty('--accent-color', '#ffd700');
        document.documentElement.style.setProperty('--bg-gradient-start', '#f0f8ff');
        document.documentElement.style.setProperty('--bg-gradient-end', '#e6f3ff');
        document.documentElement.style.setProperty('--light-bg', '#fff5f5');
        document.documentElement.style.setProperty('--border-color', '#c41e3a');
        document.documentElement.style.setProperty('--text-color', '#165b33');
        themeName = '🎄 Christmas';
      }
      else if (month === 2 && day <= 14) {
        document.documentElement.style.setProperty('--primary-color', '#ff1493');
        document.documentElement.style.setProperty('--secondary-color', '#ff69b4');
        document.documentElement.style.setProperty('--accent-color', '#ff85c1');
        document.documentElement.style.setProperty('--bg-gradient-start', '#ffe4f1');
        document.documentElement.style.setProperty('--bg-gradient-end', '#fff0f8');
        document.documentElement.style.setProperty('--light-bg', '#fff0f9');
        document.documentElement.style.setProperty('--border-color', '#ff1493');
        document.documentElement.style.setProperty('--text-color', '#a8417a');
        themeName = '💕 Valentine\'s Day';
      }
      else if (month >= 3 && month <= 5) {
        document.documentElement.style.setProperty('--primary-color', '#98d8c8');
        document.documentElement.style.setProperty('--secondary-color', '#f7b2bd');
        document.documentElement.style.setProperty('--accent-color', '#ffd89b');
        document.documentElement.style.setProperty('--bg-gradient-start', '#e8f5e9');
        document.documentElement.style.setProperty('--bg-gradient-end', '#fff9e6');
        document.documentElement.style.setProperty('--light-bg', '#f0fff4');
        document.documentElement.style.setProperty('--border-color', '#98d8c8');
        document.documentElement.style.setProperty('--text-color', '#5a7a6f');
        themeName = '🌸 Spring';
      }
      else if (month >= 6 && month <= 8) {
        document.documentElement.style.setProperty('--primary-color', '#ffa07a');
        document.documentElement.style.setProperty('--secondary-color', '#20b2aa');
        document.documentElement.style.setProperty('--accent-color', '#ffd700');
        document.documentElement.style.setProperty('--bg-gradient-start', '#fff5e6');
        document.documentElement.style.setProperty('--bg-gradient-end', '#e6f7ff');
        document.documentElement.style.setProperty('--light-bg', '#fffaf0');
        document.documentElement.style.setProperty('--border-color', '#ffa07a');
        document.documentElement.style.setProperty('--text-color', '#4a6b6b');
        themeName = '☀️ Summer';
      }
      else {
        document.documentElement.style.setProperty('--primary-color', '#f58cae');
        document.documentElement.style.setProperty('--secondary-color', '#a8417a');
        document.documentElement.style.setProperty('--accent-color', '#ff99c8');
        document.documentElement.style.setProperty('--bg-gradient-start', '#ffe4ec');
        document.documentElement.style.setProperty('--bg-gradient-end', '#fff0f6');
        document.documentElement.style.setProperty('--light-bg', '#fff0f6');
        document.documentElement.style.setProperty('--border-color', '#ffc6e7');
        document.documentElement.style.setProperty('--text-color', '#6b4a6f');
        themeName = '💖 Default';
      }

      // Update the seasonal badge
      const badge = document.getElementById('seasonal-badge');
      if (badge) {
        badge.textContent = themeName;
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      applySeasonalTheme();
      
      const seasonalColor = getComputedStyle(document.documentElement)
        .getPropertyValue('--primary-color').trim();
      new kursor({
        type: 2,
        color: seasonalColor
      });
    });
  </script>

</head>

<body>
  <div id="seasonal-badge">💖 Default</div>
  
  <button id="like-btn">💗 Like this website</button>
  <p>Likes: <span id="like-count">0</span></p>

  <audio id="btnSound" src="sounds/click.mp3" preload="auto"></audio>

  <section class="social-media">
    <h2>Follow Me!</h2>
    <div class="social-icons">
      <a href="https://instagram.com/cherrubi11" target="_blank" aria-label="Instagram">
        <img src="images/insta.png" alt="Instagram" />
      </a>
      <a href="https://tiktok.com/@ch3rrubi" target="_blank" aria-label="TikTok">
        <img src="images/tiktok.png" alt="TikTok" />
      </a>
    </div>
  </section>

  <button id="darkModeToggle" aria-pressed="false">Toggle Dark Mode</button>
  <button id="musicToggle" aria-pressed="false" aria-label="Toggle Music">🎧 Play Music</button>
  <div id="nowPlaying">Now playing: 🎧 lofi.mp3</div>

  <audio id="bgMusic" loop>
    <source src="sounds/lofi.mp3" type="audio/mp3" />
    Your browser does not support the audio element.
  </audio>
  
  <marquee behavior="scroll" direction="left" scrollamount="6">
    💖 Now taking commissions! 💖
  </marquee>

  <img src="https://media0.giphy.com/media/v1.Y2lkPTZjMDliOTUyNHd4MGRkdnN6enAyZmI1c2V6dGdzN254OWRlbDY5a3A3c3VqMTVxeCZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/ue7Oh8WdVspgI/source.gif" id="mascot" alt="Mascot" />

  <header>
    <h1>Commission Your Art!</h1>
    <nav>
      <li><a href="donate.html" style="color:var(--primary-color); font-weight:bold; text-decoration:none;">Donate</a></li>
    </nav>
  </header>



  <section class="portfolio">
    <h2>My Work <img src="https://img1.picmix.com/output/stamp/normal/5/8/1/8/188185_c9254.gif" style="width: 20px;"></h2>
    <div class="portfolio">
      <img src="images/1.png"/>
      <img src="images/2.png" />
      <img src="images/3.png" />
      <img src="images/4.png" />
    </div>
  </section>

  <section class="done-commissions">
    <p>Finished Comms!</p>
    <div class="comm-img">
      <img src="images/35-1.png" alt="Finished Commission 1">
      <div class="price-tag">💵 $35</div>
    </div>
    <div class="comm-img">
      <img src="images/robux-1.png" alt="Finished Commission 2">
      <div class="price-tag">💸 1000 Robux</div>
    </div>
    <!-- add more as needed -->
  </section>


  <section class="commission-info">
    <h2>How It Works</h2>
    
    <div class="info-box">
      <h3>📝 What I Draw</h3>
      <ul>
        <li>Fanart</li>
        <li>OC illustrations</li>
        <li>Chibis</li>
      </ul>
    </div>

    <div class="info-box">
      <h3>🚫 What I Don't Draw</h3>
      <ul>
        <li>Heavy gore</li>
        <li>Furries (Animal qualities on humans are allowed!)</li>
        <li>Anything that makes me uncomfortable</li>
      </ul>
    </div>

    <div class="info-box">
      <h3>✨ Revisions</h3>
      <p>Each order includes <strong>2 free revisions</strong>.</p>
      <p>Revisions are for minor changes (colors, small tweaks). Major changes (like changing the whole design) may require a new order.</p>
    </div>

    <div class="info-box">
      <h3>💰 Refund Policy</h3>
      <p>All purchases are <strong>final</strong>, as these are digital products.</p>
      <p>If you experience a technical issue (file not downloading, corrupt file), <strong>contact me within 3 days</strong> and I'll fix it or replace it.</p>
      <p>If I fail to deliver the order within the promised timeframe, a full refund will be issued.</p>
    </div>

    <div class="info-box">
      <h3>⏱️ Timeline & Pricing</h3>
      <p>Prices start at <strong>$10</strong>. Delivery usually takes 1-2 days, but can take up to a week depending on complexity and my schedule.</p>
    </div>

    <div class="info-box">
      <h3>📱 Social Media Posting</h3>
      <p>I might post the finished piece on my socials. If you feel uncomfortable with this, message me and I'll delete it from my accounts.</p>
    </div>
  </section>

  <section class="contact">
    <p>Request now and pay once I accept! I only take upfront payments, or half now, half when I'm done.</p>
    <h2>Request a Commission</h2>
    <form id="commissionForm" action="https://formspree.io/f/mrbqrwoe" method="POST">
      <label for="paymentMethod">Payment Method</label>
      <select id="paymentMethod" name="paymentMethod" required>
        <option value="">Select one</option>
        <option value="usd">USD ($)</option>
        <option value="robux">Robux (💸 Discount!)</option>
      </select>

      <label for="name">Your Name</label>
      <input type="text" id="name" name="name" required />

      <label for="email">Your Email</label>
      <input type="email" id="email" name="email" required />

      <label for="commissionType">Commission Type</label>
      <select id="commissionType" name="commissionType" required>
        <option value="">Select one</option>
        <option value="Headshot">Headshot</option>
        <option value="Half Body">Half Body</option>
        <option value="Full Body">Full Body</option>
      </select>


      <label for="additionalChars">Additional Characters (optional)</label>
      <select id="additionalChars" name="additionalChars">
        <option value="0">None</option>
        <option value="1">1 (+$10)</option>
        <option value="2">2 (+$20)</option>
        <option value="3">3 (+$30)</option>
        <option value="4">4 (+$40)</option>
      </select>

      <p id="priceDisplay"></p>

      <label for="details">Describe Your Request</label>
      <textarea id="details" name="details" rows="5" required></textarea>

      <button type="submit">Send Request</button>
    </form>
  </section>

  <div class="chatbox">
    <p><strong>@Cherrubi:</strong> Taking commissions rn 💕</p>
  </div>

  <div class="pfp-container">
    <img src="images/pfp.png" alt="Profile Picture" />
  </div>

  <script>
    const form = document.getElementById('commissionForm');
    const inputs = form.querySelectorAll('input, textarea, select');

    inputs.forEach(input => {
      const saved = localStorage.getItem(input.name);
      if (saved) input.value = saved;

      input.addEventListener('input', () => {
        localStorage.setItem(input.name, input.value);
      });
    });

    const toggle = document.getElementById('darkModeToggle');
    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      toggle.setAttribute('aria-pressed', isDark);
    });

    const musicToggle = document.getElementById('musicToggle');
    const bgMusic = document.getElementById('bgMusic');
    let isPlaying = false;

    musicToggle.addEventListener('click', () => {
      if (!isPlaying) {
        bgMusic.play();
        musicToggle.textContent = '🔇 Pause Music';
      } else {
        bgMusic.pause();
        musicToggle.textContent = '🎧 Play Music';
      }
      isPlaying = !isPlaying;
    });

    const clickSound = document.getElementById('btnSound');
    const cuteButtons = document.querySelectorAll('button, .cute-btn, input[type="submit"]');

    cuteButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        clickSound.currentTime = 0;
        clickSound.play();
      });
    });

    const commissionType = document.getElementById('commissionType');
    const additionalChars = document.getElementById('additionalChars');
    const priceDisplay = document.getElementById('priceDisplay');
    const paymentMethod = document.getElementById('paymentMethod');

    function calculatePrice() {
      const type = commissionType.value;
      const extras = parseInt(additionalChars.value);
      const method = paymentMethod.value;

      let total = 0;
      let robuxPrice = 0;

      if (type === 'Headshot') {
        robuxPrice = 500;
        total = 10;
      } else if (type === 'Half Body') {
        robuxPrice = 1000;
        total = 25;
      } else if (type === 'Full Body') {
        robuxPrice = 2200;
        total = 35;
      }

      const extraPrice = extras * 10;
      const extraRobux = extras * 100;
      total += extraPrice;
      robuxPrice += extraRobux;

      if (!type || !method) {
        priceDisplay.textContent = '';
        return;
      }

      if (method === 'robux') {
        priceDisplay.textContent = `Estimated Price: ${robuxPrice} Robux`;
      } else {
        priceDisplay.textContent = `Estimated Price: $${total}`;
      }
    }

    commissionType.addEventListener('change', calculatePrice);
    additionalChars.addEventListener('change', calculatePrice);
    paymentMethod.addEventListener('change', calculatePrice);
  </script>

  <footer>&copy; 2025 Cherrubi.</footer>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, get, set, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBTStgXrYiPgwv7ehITvObhuWwAP0ZJQ10",
      authDomain: "art-like-button.firebaseapp.com",
      databaseURL: "https://art-like-button-default-rtdb.firebaseio.com",
      projectId: "art-like-button",
      storageBucket: "art-like-button.firebasestorage.app",
      messagingSenderId: "448177284978",
      appId: "1:448177284978:web:5f71416588684a3cee5feb"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const likeRef = ref(db, "likes");
    const likeBtn = document.getElementById("like-btn");
    const likeCount = document.getElementById("like-count");

    onValue(likeRef, (snapshot) => {
      const likes = snapshot.val() ?? 0;
      likeCount.textContent = likes;
    });

    window.addEventListener("DOMContentLoaded", () => {
      if (localStorage.getItem("hasLiked")) {
        likeBtn.disabled = true;
        likeBtn.textContent = "💖 Thanks for liking!";
      }
    });

    likeBtn.addEventListener("click", async () => {
      if (localStorage.getItem("hasLiked")) {
        alert("You already liked this!");
        return;
      }

      try {
        const snapshot = await get(likeRef);
        const currentLikes = snapshot.val() ?? 0;

        await set(likeRef, currentLikes + 1);

        localStorage.setItem("hasLiked", "true");
        likeBtn.disabled = true;
        likeBtn.textContent = "💖 Thanks for liking!";
      } catch (error) {
        console.error("Error updating likes:", error);
        alert("Oops, something went wrong. Try again later.");
      }
    });
  </script>
</body>
</html>
